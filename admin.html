<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>ZUZU • Admin Panel</title>
  <link rel="stylesheet" href="style.css">
</head>
<body style="max-width:980px;margin:20px auto">
  <h2>Admin Panel</h2>
  <div class="pill">Receiver: <b id="rcv"></b></div>
  <p>BscScan API ile gelen USDT transferlerini listeler (opsiyonel). `config` kodu script.js içinde.</p>
  <div id="list" class="card"></div>

<script>
const CFG = {
  receiver: "0x69014a76Ee25c8B73dAe9044dfcAd7356fe74bC3",
  usdt:     "0x55d398326f99059fF775485246999027B3197955",
  bscscanKey: ""
};
document.getElementById('rcv').textContent = CFG.receiver;

(async ()=>{
  const box = document.getElementById('list');
  if(!CFG.bscscanKey){ box.innerHTML = '<div class="pill">BscScan API anahtarı boş. script.js içindeki CFG.bscscanKey alanına anahtar eklersen burada on-chain log görünür.</div>'; return; }
  try{
    const url = `https://api.bscscan.com/api?module=account&action=tokentx&address=${CFG.receiver}&contractaddress=${CFG.usdt}&page=1&offset=50&sort=desc&apikey=${CFG.bscscanKey}`;
    const r = await fetch(url); const j = await r.json();
    if(j.status!=='1'){ box.innerHTML = '<div class="pill">Kayıt bulunamadı.</div>'; return; }
    let html = '<table class="table" style="width:100%"><tr><th>Zaman</th><th>From</th><th>To</th><th>Miktar (USDT)</th><th>Tx</th></tr>';
    j.result.forEach(tx=>{
      const v = (Number(tx.value)/1e18).toFixed(2);
      const t = new Date(tx.timeStamp*1000).toLocaleString();
      html += `<tr>
        <td>${t}</td>
        <td class="mono">${tx.from.slice(0,6)}…${tx.from.slice(-4)}</td>
        <td class="mono">${tx.to.slice(0,6)}…${tx.to.slice(-4)}</td>
        <td>${v}</td>
        <td><a href="https://bscscan.com/tx/${tx.hash}" target="_blank">Göster</a></td>
      </tr>`;
    });
    html+='</table>'; box.innerHTML = html;
  }catch(e){ box.innerHTML = '<div class="pill">BscScan hatası.</div>'; }
})();
</script>
</body>
</html>
