<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ZUZU • AI Meme Intelligence</title>
  <meta name="theme-color" content="#0e1522" />
  <link rel="preconnect" href="https://cdn.jsdelivr.net" />
  <link rel="preconnect" href="https://cdnjs.cloudflare.com" />

  <!-- Lottie & Chart CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.2/lottie.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" defer></script>
  <!-- TonConnect UI -->
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js" defer></script>

  <style>
    :root{
      --bg:#0b1220;
      --panel:#0f1728;
      --muted:#7f8aa3;
      --primary:#20e0b6;
      --accent:#31c4ff;
      --danger:#ff6b6b;
      --ring:#1c273b;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:#dfe7ff;font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif}
    a{color:#a5d8ff;text-decoration:none}
    .container{max-width:1180px;margin:0 auto;padding:16px}

    /* Header */
    .topbar{display:flex;align-items:center;gap:14px;padding:10px 0}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;font-size:20px;letter-spacing:.4px}
    .brand img{height:28px;width:auto;filter:drop-shadow(0 2px 6px rgba(32,224,182,.45))}
    .nav{display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;margin-right:8px}
    .chip{background:#0f1a2d;border:1px solid #1a2740;padding:8px 12px;border-radius:14px;color:#cfe4ff;font-size:13px}
    .chip:hover{border-color:#28406b}
    .btn-primary{background:linear-gradient(90deg,var(--primary),#3afbd3);border:none;color:#072017;font-weight:700}
    .btn-primary:hover{filter:brightness(1.05)}
    .btn{padding:10px 14px;border-radius:10px;border:1px solid #193054;background:#0d1a2e;color:#e8f5ff;cursor:pointer}
    .btn:active{transform:translateY(1px)}

    /* Exchanges row */
    .exchanges{display:flex;flex-wrap:wrap;gap:8px;margin:8px 0 20px}
    .ex-item{background:#0f1a2d;border:1px solid #1a2740;border-radius:10px;padding:6px 10px;display:flex;align-items:center;gap:8px}
    .ex-item img{height:18px;width:auto;display:block}

    /* Hero intro */
    .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:18px}
    .card{background:var(--panel);border:1px solid #172238;border-radius:16px;padding:16px}
    h1{margin:10px 0 10px;font-size:28px;line-height:1.25}
    .lead{color:#cdd9ff;font-size:16px;line-height:1.6}
    .muted{color:var(--muted)}

    /* Countdown */
    .count{display:flex;align-items:center;gap:12px;margin-top:12px}
    .cd-box{font-weight:800;font-size:18px}
    .cd-bar-wrap{height:4px;background:#112038;border-radius:999px;overflow:hidden}
    .cd-bar{height:100%;width:0;background:linear-gradient(90deg,#31c4ff,var(--primary))}

    /* Gallery */
    .section-title{font-size:20px;margin:18px 0 10px}
    .zuzu-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px}
    @media (min-width:900px){ .zuzu-grid{grid-template-columns:repeat(5,1fr)} }
    .zcard{background:#0f1728;border:1px solid #16223a;border-radius:14px;padding:10px;display:flex;flex-direction:column;gap:8px}
    .ztitle{font-weight:800;color:#eaf4ff}
    .anim{position:relative;background:radial-gradient(140px 60px at 50% 60%,#13253c,#0e1522);border-radius:12px;min-height:160px;display:flex;align-items:center;justify-content:center;overflow:hidden}
    .anim img{max-width:100%;max-height:100%;display:block}
    .badge-err{position:absolute;bottom:10px;left:10px;background:#361f26;border:1px solid #612c39;color:#f8b4be;border-radius:10px;padding:6px 8px;font-size:12px}
    .hint{font-size:12px;color:#98aac4}

    /* Tokenomi + footer */
    .token-wrap{margin:24px 0}
    footer{padding:20px 0;color:#93a7c8;border-top:1px dashed #1a2a44;margin-top:18px}
    .row{display:flex;gap:14px;align-items:center;flex-wrap:wrap}

    /* Modal */
    .modal-back{position:fixed;inset:0;background:rgba(0,0,0,.54);display:none;align-items:center;justify-content:center;z-index:50}
    .modal{background:#0f1728;border:1px solid #1a2740;border-radius:16px;padding:16px;max-width:520px;width:92%}
    .modal h3{margin:6px 0 12px}
    .modal .row .btn{flex:1}
    .modal-back.show{display:flex}
  </style>
</head>
<body>
  <div class="container">

    <!-- Header -->
    <div class="topbar">
      <div class="brand">
        <img id="zlogo" alt="ZUZU" />
        <span>ZUZU</span>
      </div>

      <div class="nav">
        <a href="#community" class="chip">Topluluk</a>
        <a href="#tokenomics" class="chip">Tokenomi</a>
        <a href="#about" class="chip">Hakkımızda</a>
        <a href="#roadmap" class="chip">Yol Haritası</a>
        <a href="#stake" class="chip">Stake</a>
      </div>

      <button id="btn-wallet" class="btn btn-primary">Cüzdan Bağla</button>
    </div>

    <!-- Exchanges row (SVG logolar) -->
    <div class="exchanges" id="exRow"></div>

    <!-- Intro + Sayaç -->
    <section class="hero">
      <div class="card">
        <h1>YAPAY ZEKA <span style="color:var(--primary)">ZUZU</span> ORDUSU</h1>
        <p class="lead">
          ZUZU; memetik enerjiyi <b>AI Meme Intelligence</b> katmanıyla birleştirir.
          Presale fonları <b>non-custodial</b> hazinede tutulur. Paylaş, <b>tap-to-earn</b> ile puan topla,
          <b>stake</b> ile daha fazla kazanç hedefle.
        </p>
        <div class="count">
          <span class="muted">Ön Satış Bitiş:</span>
          <span id="cd" class="cd-box">—</span>
        </div>
        <div class="cd-bar-wrap"><div id="cd-bar" class="cd-bar"></div></div>
      </div>

      <div class="card">
        <div class="section-title">Tokenomi</div>
        <canvas id="tokenChart" height="180"></canvas>
        <div class="hint">Presale, likidite ve airdrop yüzdeleri config’e göre otomatik gelir.</div>
      </div>
    </section>

    <!-- Gallery -->
    <div class="section-title">ZUZU Maskot Galerisi</div>
    <div id="zuzu-grid" class="zuzu-grid"></div>

    <footer class="row">
      <div>© 2025 ZUZU • AI-Powered Meme Intelligence</div>
    </footer>
  </div>

  <!-- Wallet Modal -->
  <div id="walletBack" class="modal-back">
    <div class="modal">
      <div class="row" style="justify-content:space-between">
        <h3 style="margin:0">Cüzdan Bağla</h3>
        <button id="closeModal" class="btn">Kapat</button>
      </div>
      <div class="row" style="margin:8px 0 14px">
        <button id="evmConnect" class="btn">EVM (MetaMask / OKX / Bitget)</button>
        <button id="solConnect" class="btn">Solana (Phantom)</button>
        <button id="tonConnect" class="btn">TON (TonConnect)</button>
      </div>
      <div class="hint">Bağlı adres: <b id="addrBox">—</b></div>
    </div>
  </div>

  <script>
  /***********************
   * ZUZU – Tek dosya uygulama
   ***********************/
  // ---- Kaynaklar (sıralı deneme) ----
  const CDN = "https://cdn.jsdelivr.net/gh/enejomble35/zuzucoin.xyz@main/";
  const RAW = "https://raw.githubusercontent.com/enejomble35/zuzucoin.xyz/main/";
  const SOURCES = {
    lottie: [ CDN+"zuzu/lottie/", RAW+"zuzu/lottie/", "/zuzu/lottie/" ],
    webp:   [ CDN+"assets/zuzu/realistic/", RAW+"assets/zuzu/realistic/", "/assets/zuzu/realistic/" ],
    logos:  [ CDN+"assets/zuzu/exchanges/", RAW+"assets/zuzu/exchanges/", "/assets/zuzu/exchanges/" ],
    zlogo:  [ CDN+"assets/zuzu/svg/zuzu_logo.svg", RAW+"assets/zuzu/svg/zuzu_logo.svg", "/assets/zuzu/svg/zuzu_logo.svg" ]
  };

  // ---- Değişmezler ----
  const MASKS = [
    {key:"hero",title:"ZUZU Hero"},
    {key:"ranger",title:"ZUZU Ranger"},
    {key:"warrior",title:"ZUZU Warrior"},
    {key:"hacker",title:"ZUZU Hacker"},
    {key:"rogue",title:"ZUZU Rogue"},
    {key:"titan",title:"ZUZU Titan"},
    {key:"sorceress",title:"ZUZU Sorceress"},
    {key:"berserker",title:"ZUZU Berserker"},
    {key:"scientist",title:"ZUZU Scientist"},
    {key:"maiden",title:"ZUZU Maiden"}   // 10. kart
  ];

  // alias: sorceress <-> maiden için isim toleransı
  const FILE_ALIAS = {
    sorceress: ["sorceress","maiden","zuzu_sorceress","zuzu_maiden"],
    maiden:    ["maiden","sorceress","zuzu_maiden","zuzu_sorceress"]
  };

  // ---- Yardımcılar ----
  function imgCandidates(name){
    // hem "key.webp" hem "zuzu_key.webp" dener
    const list = FILE_ALIAS[name] || [name,"zuzu_"+name];
    const out = [];
    list.forEach(n => SOURCES.webp.forEach(b => out.push(b+n+".webp")));
    return out;
  }
  function lottieCandidates(name){
    // Lottie hep "zuzu_name.json" formatında + alias
    const list = FILE_ALIAS[name] || ["zuzu_"+name,name,"zuzu_"+name];
    const out = [];
    list.forEach(n => SOURCES.lottie.forEach(b => out.push(b + (n.endsWith(".json")?n:(n+".json")))));
    return out;
  }
  function loadWithFallback(urls, onOk, onFail){
    let i=0;
    const tryNext = ()=>{
      if(i>=urls.length){ onFail && onFail(); return; }
      const u = urls[i] + (urls[i].startsWith("http") ? ("?v="+Date.now()) : "");
      i++;
      fetch(u,{cache:"no-store"}).then(r=>{
        if(!r.ok) throw new Error("HTTP "+r.status);
        const ct = (r.headers.get("content-type")||"");
        if(ct.includes("json")) return r.json().then(j=>onOk(j,u));
        return r.blob().then(b=>onOk(URL.createObjectURL(b),u));
      }).catch(tryNext);
    };
    tryNext();
  }

  // ---- Borsa logoları ----
  function buildExchanges(){
    const row = document.getElementById("exRow");
    const list = [
      {k:"mexc",t:"MEXC"},
      {k:"gateio",t:"Gate.io"},
      {k:"bitmart",t:"BitMart"},
      {k:"bybit",t:"Bybit"},
      {k:"kucoin",t:"KuCoin"},
      {k:"okx",t:"OKX"}
    ];
    list.forEach(({k,t})=>{
      const el=document.createElement("div"); el.className="ex-item";
      const img=document.createElement("img");
      // fallback zinciri
      const urls = SOURCES.logos.map(b=>b+k+".svg");
      let idx=0; const setNext=()=>{ if(idx>=urls.length){ el.textContent=t; return; } img.src=urls[idx++]; };
      img.onerror=setNext; setNext();
      const tt=document.createElement("span"); tt.textContent=t;
      el.append(img,tt); row.appendChild(el);
    });
  }

  // ---- ZUZU logo ----
  function setZLogo(){
    const el = document.getElementById("zlogo");
    let i=0; const tryNext=()=>{
      if(i>=SOURCES.zlogo.length){ el.remove(); return; }
      el.src = SOURCES.zlogo[i++] + (SOURCES.zlogo[i-1].startsWith("http")?("?v="+Date.now()):"");
      el.onerror=tryNext;
    }; tryNext();
  }

  // ---- Sayaç ----
  async function initCountdown(){
    const cd = document.getElementById("cd");
    const bar= document.getElementById("cd-bar");
    // config.json varsa oradan al; yoksa fallback tarih seti
    let start, end, tokenomics;
    try{
      const c = await fetch("/config.json?"+Date.now()).then(r=>r.ok?r.json():Promise.reject());
      start = new Date(c.presaleStart).getTime();
      end   = new Date(c.presaleEnd).getTime();
      tokenomics = c.tokenomics || [45,25,15,10,5];
    }catch(_){
      // fallback: bugünden itibaren 40 gün
      start = Date.now();
      end   = start + 40*24*3600*1000;
      tokenomics = [45,25,15,10,5];
    }
    function tick(){
      const now=Date.now();
      const left=Math.max(0,end-now);
      const total=end-start, done=Math.max(0,Math.min(total,now-start));
      const d=Math.floor(left/86400000);
      const h=Math.floor((left%86400000)/3600000);
      const m=Math.floor((left%3600000)/60000);
      const s=Math.floor((left%60000)/1000);
      cd.textContent=`${d}g ${h}s ${m}d ${s}sn`;
      bar.style.width=((done/total)*100).toFixed(2)+"%";
    }
    tick(); setInterval(tick,1000);
    // Chart
    const ctx=document.getElementById("tokenChart").getContext("2d");
    new Chart(ctx,{type:'doughnut',data:{
      labels:['Presale','Liquidity','Marketing','Team','Airdrop'],
      datasets:[{data:tokenomics,backgroundColor:['#24e0b6','#31c4ff','#ffd166','#a78bfa','#ff8fab'],borderColor:'#0e1522',borderWidth:2}]
    },options:{plugins:{legend:{display:false}},cutout:'60%'}});
  }

  // ---- Gallery ----
  function buildGallery(){
    const wrap=document.getElementById("zuzu-grid");
    wrap.innerHTML="";
    MASKS.forEach(item=>{
      const card=document.createElement("div"); card.className="zcard";
      const title=document.createElement("div"); title.className="ztitle"; title.textContent=item.title;
      const anim=document.createElement("div"); anim.className="anim";
      card.append(title,anim); wrap.appendChild(card);

      // 1) Lottie dene
      loadWithFallback(lottieCandidates(item.key), (json,src)=>{
        try{
          const inst = lottie.loadAnimation({container:anim,renderer:"svg",loop:true,autoplay:true,animationData:json});
          anim.setAttribute("data-src",src);
        }catch(e){ useWebp(); }
      }, useWebp);

      function useWebp(){
        // 2) WebP fallback
        loadWithFallback(imgCandidates(item.key), (blobUrl,src)=>{
          const im=new Image(); im.src=blobUrl; im.alt=item.title; anim.appendChild(im);
          anim.setAttribute("data-src",src);
        }, ()=>{
          const b=document.createElement("div"); b.className="badge-err"; b.textContent="görsel/animasyon bulunamadı";
          anim.appendChild(b);
        });
      }
    });
  }

  // ---- Cüzdan Modal ----
  const back=document.getElementById("walletBack");
  document.getElementById("btn-wallet").onclick=()=> back.classList.add("show");
  document.getElementById("closeModal").onclick=()=> back.classList.remove("show");
  function setAddr(t){ document.getElementById("addrBox").textContent=t; }

  document.getElementById("evmConnect").onclick=async()=>{
    try{
      if(!window.ethereum){ alert("Tarayıcı EVM cüzdanı yok."); return; }
      const accts=await window.ethereum.request({method:"eth_requestAccounts"});
      setAddr("EVM: "+accts[0]);
    }catch(e){ alert("EVM: "+e.message); }
  };
  document.getElementById("solConnect").onclick=async()=>{
    try{
      const p=window.solana; if(!p||!p.isPhantom){ alert("Phantom bulunamadı."); return; }
      const r=await p.connect(); setAddr("Solana: "+r.publicKey.toString());
    }catch(e){ alert("Solana: "+e.message); }
  };
  let tonUI;
  window.addEventListener("load",()=>{
    try{ tonUI=new TON_CONNECT_UI.TonConnectUI({manifestUrl:location.origin+"/tonconnect-manifest.json"}); }catch(_){}
  });
  document.getElementById("tonConnect").onclick=async()=>{
    try{
      if(!tonUI){ alert("TonConnect UI yüklenmedi"); return; }
      await tonUI.openModal();
      setAddr("TON: "+(tonUI.account?.address || "—"));
    }catch(e){ alert("TON: "+e.message); }
  };

  // ---- Başlat ----
  document.addEventListener("DOMContentLoaded",()=>{
    setZLogo();
    buildExchanges();
    initCountdown();
    buildGallery();
  });
  </script>
</body>
</html>
