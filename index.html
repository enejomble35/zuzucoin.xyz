<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ZUZU â€¢ AI Meme Intelligence â€“ Presale</title>
<meta name="theme-color" content="#0b0d10"/>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

<style>
:root{
  --bg:#0b0d10; --panel:#10151c; --panel2:#0f1319; --line:#1a2737;
  --txt:#eaf1fb; --mut:#9ab0c6;
  --neon-red:#ff2e5f; --neon-orange:#ff7b17;
  --neon-green:#00f6a9; --neon-blue:#16b6ff;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background: #0b0d10;
  color:var(--txt);
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
  overflow-x:hidden;
}

/* ---- global ux ---- */
.container{max-width:1200px;margin:0 auto;padding:18px}
a{color:var(--neon-blue);text-decoration:none}
.badge{font-size:12px;padding:6px 10px;border-radius:999px;background:#0e141b;border:1px solid var(--line);color:#bfe0ff}
select,button,input{font:600 14px Inter;border-radius:12px;border:1px solid var(--line);outline:0}
input,select{background:#0f1620;color:#def1ff;padding:11px 12px}
label.small{color:#89a6c6;font-size:12px}

.btn{cursor:pointer;border:none;border-radius:12px;padding:12px 16px;color:#001214;
     background:linear-gradient(180deg,var(--neon-green),var(--neon-blue));
     box-shadow:0 10px 28px #00f6a933, inset 0 1px 0 #bffff5}
.btn:hover{transform:translateY(-1px)}
.btn-orange{background:linear-gradient(180deg,#ffa64a,var(--neon-orange));color:#1a1100;box-shadow:0 10px 28px #ff7b1738}
.btn-ghost{background:#0f1620;border:1px solid var(--line);color:#cfe6ff}

h1{font-size:42px;letter-spacing:.3px;margin:6px 0 8px;text-shadow:0 0 18px #ff2e5f22, 0 0 8px #ff7b1715}
.neon-red{color:var(--neon-red)}
.neon-orange{color:var(--neon-orange)}
.sub{color:#a7bed6;line-height:1.55}

/* ---- navbar ---- */
.nav{display:flex;justify-content:space-between;align-items:center;gap:12px}
.nav-right{display:flex;gap:8px;align-items:center}

/* ---- watermark (arka planda soluk maskot) ---- */
.watermark{
  position:fixed; inset:-10vh -10vw -10vh -10vw; z-index:-1; opacity:.12;
  background:
    radial-gradient(900px 700px at -10% 20%, #111926 0, transparent 60%),
    radial-gradient(800px 600px at 110% -10%, #121b29 0, transparent 60%),
    #0b0d10;
}
.watermark::after{
  content:""; position:absolute; left:50%; top:45%; width:1200px; height:1200px; translate:-50% -50%;
  background:
    radial-gradient(260px 240px at 50% 50%, #0f141c, transparent 60%),
    radial-gradient(120px 90px at 50% 55%, #0a0e14, transparent 72%),
    radial-gradient(40px 40px at 40% 45%, #0a0e14, transparent 70%),
    radial-gradient(40px 40px at 60% 45%, #0a0e14, transparent 70%);
  border-radius:50%;
  filter:blur(12px);
}

/* ---- hero ---- */
.hero{display:grid;grid-template-columns:1.15fr .85fr;align-items:center;gap:22px}
.ex{display:flex;gap:10px;flex-wrap:wrap;margin:10px 0 6px}
.chip{background:#0f1620;border:1px solid var(--line);color:#c8e1ff;font-size:12px;padding:6px 10px;border-radius:999px}

/* ---- canlÄ± ZUZU maskotu (SVG) ---- */
.maskwrap{display:flex;justify-content:center;align-items:center;position:relative}
.zuzu{
  width:360px; max-width:86vw; aspect-ratio:1; border-radius:50%;
  background:radial-gradient(140px 120px at 50% 48%, #0e141b, #0a0e13);
  border:2px solid #1f2e42; box-shadow:inset 0 0 60px #0c1727, 0 16px 60px rgba(0,0,0,.5);
  animation:float 6s ease-in-out infinite;
}
.horn{position:absolute;width:0;height:0;border-left:32px solid transparent;border-right:32px solid transparent;border-bottom:56px solid var(--neon-green);filter:drop-shadow(0 0 12px #00f6a999)}
.horn.l{left:22%; top:12%; rotate:-12deg}
.horn.r{right:22%; top:12%; rotate:12deg}
.eye{position:absolute;width:20px;height:20px;border-radius:50%;background:#9fefff; left:50%; transform:translateX(-50%); top:42%;
      animation:blink 6s infinite}
.eye.l{margin-left:-48px}.eye.r{margin-left:48px}
.mouth{position:absolute; left:50%; top:64%; translate:-50% 0; width:180px; height:22px; border-radius:44px;
       background:radial-gradient(60px 40px at 50% 60%, var(--neon-orange), #ff6d00);
       filter:drop-shadow(0 0 14px #ff7b00aa);
       animation:smile 5s ease-in-out infinite}
@keyframes blink{0%,92%,100%{height:20px}94%,96%{height:4px}}
@keyframes smile{0%,100%{transform:scale(1)}50%{transform:scale(1.04)}}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}

/* ---- presale kartÄ± ---- */
.card{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid var(--line);border-radius:18px;padding:16px;box-shadow:inset 0 1px 0 #213247}
.grid2{display:grid;grid-template-columns:1.1fr .9fr;gap:16px}
.panel{display:flex;flex-direction:column;gap:12px}
.pill{display:inline-block;background:#0f1620;border:1px solid var(--line);color:#d3e8ff;padding:6px 10px;border-radius:999px}
.quick{display:flex;gap:8px;flex-wrap:wrap}
.q{padding:8px 12px;border-radius:10px;background:#0f1928;border:1px solid var(--line);color:#a9d3ff;cursor:pointer}
.q:hover{background:#14253a}

/* ---- mini kutular ---- */
.grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
.kutu{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid var(--line);border-radius:14px;padding:12px}
.kutu h3{margin:0 0 6px;font-size:16px}

/* ---- progress ---- */
.progress{height:10px;background:#0c1523;border:1px solid #18263a;border-radius:999px;overflow:hidden}
.progress>i{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--neon-blue),var(--neon-green))}

/* ---- feature / tokenomics / roadmap ---- */
.section{margin-top:18px}
.token{display:grid;grid-template-columns:1.25fr .75fr;gap:16px}
.phase{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid var(--line);border-radius:16px;padding:16px}
.pills{margin-top:10px}
.pills .pill{margin:4px 6px 0 0}

/* ---- tap to earn / staking ---- */
.fungrid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.tbox{background:linear-gradient(180deg,var(--panel),var(--panel2));border:1px solid var(--line);border-radius:16px;padding:16px}

/* ---- footer ---- */
.footer{margin:26px 0 12px;text-align:center;color:#8fb0d2}

/* ---- responsive ---- */
@media(max-width:1024px){.hero{grid-template-columns:1fr}.grid2{grid-template-columns:1fr}.token{grid-template-columns:1fr}.fungrid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="watermark"></div>

<header class="container nav">
  <span class="badge">ZUZU â€¢ AI Meme Intelligence</span>
  <div class="nav-right">
    <select id="langSel">
      <option value="tr">TR</option><option value="en">EN</option>
      <option value="pt">PT</option><option value="ru">RU</option>
      <option value="zh">ZH</option><option value="hi">HI</option>
    </select>
    <button id="btnConnect" class="btn-orange">CÃ¼zdan BaÄŸla</button>
  </div>
</header>

<section class="container hero">
  <div>
    <div class="ex">
      <span class="chip">MEXC</span><span class="chip">Gate.io</span><span class="chip">BitMart</span>
      <span class="chip">LBank</span><span class="chip">BingX</span><span class="chip">Bybit</span>
      <span class="chip">KuCoin</span><span class="chip">OKX</span>
    </div>
    <h1><span class="neon-red">YAPAY ZEKA</span> <span class="neon-orange">MEME AJANI</span></h1>
    <p class="sub" id="tSub">
      ZUZU; memetik enerjiyi <b>AI Meme Intelligence</b> ile birleÅŸtirir.
      Presale fonlarÄ± <b>non-custodial</b> hazineye gider.
    </p>
    <div class="sub" style="margin:8px 0">
      ğŸ”— <b id="tRef">Senin referans linkin:</b> <a id="myRef" href="#"></a>
    </div>
    <div class="ex" id="timer" style="margin-top:6px">
      <span class="chip"><b id="d">40</b> <span id="tDay">GÃ¼n</span></span>
      <span class="chip"><b id="h">00</b> <span id="tHour">Saat</span></span>
      <span class="chip"><b id="m">00</b> <span id="tMin">Dakika</span></span>
      <span class="chip"><b id="s">00</b> <span id="tSec">Saniye</span></span>
    </div>
  </div>

  <!-- CANLI ZUZU ADAM -->
  <div class="maskwrap">
    <div class="zuzu" id="zuzu">
      <i class="horn l"></i><i class="horn r"></i>
      <i class="eye l"></i><i class="eye r"></i>
      <i class="mouth"></i>
    </div>
  </div>
</section>

<section class="container card grid2">
  <!-- Presale panel -->
  <div class="panel">
    <h2>Ã–n SatÄ±ÅŸ AÅŸamasÄ±</h2>
    <label class="small">AÅŸama</label>
    <select id="stageSel"></select>

    <div class="quick">
      <div class="q" data-amt="100000">100k</div>
      <div class="q" data-amt="250000">250k</div>
      <div class="q" data-amt="1000000">1M</div>
    </div>

    <label class="small">KaÃ§ ZUZU?</label>
    <input id="amount" type="number" min="1000" step="1000" placeholder="100000" />

    <div class="ex">
      <span class="pill" id="priceInfo"></span>
      <span class="pill" id="totalInfo"></span>
    </div>

    <button id="btnBuy" class="btn">USDT (BEP20) ile SatÄ±n Al</button>
    <div class="sub" style="font-size:12px" id="tGasNote">
      Ã–deme USDT (BEP20) ile doÄŸrudan hazinedir. Gas iÃ§in az miktar BNB gerekir.
    </div>

    <div class="grid3">
      <div class="kutu">
        <h3>Mini Audit</h3>
        <div class="sub" style="font-size:12px">âœ” SÃ¶zleÅŸme: USDT (BEP20)</div>
        <div class="sub" style="font-size:12px">âœ” Transfer â†’ <span id="rcvShort"></span></div>
        <div class="sub" style="font-size:12px">âœ” Non-custodial, direkt kasaya</div>
      </div>
      <div class="kutu">
        <h3 id="tTrans">ÅeffaflÄ±k</h3>
        <div class="sub" style="font-size:12px" id="tTransText">
          SatÄ±n alÄ±mlar on-chain receiver adresine kaydolur. Admin Panel Ã¼zerinden son iÅŸlemleri gÃ¶rebilirsin.
        </div>
        <a class="pill" href="admin.html" target="_blank">Admin Panel â†’</a>
      </div>
      <div class="kutu">
        <h3>Toplanan</h3>
        <div class="progress"><i id="prog"></i></div>
        <div class="sub" style="font-size:12px"><b id="raised">$0</b> / <b id="cap">$300,000</b></div>
      </div>
    </div>
  </div>

  <!-- Tap-to-earn & Staking -->
  <div class="panel">
    <h2>Top-to-Earn & Staking</h2>
    <div class="fungrid">
      <div class="tbox">
        <h3>Tap-to-Earn</h3>
        <p class="sub" style="font-size:12px">DokundukÃ§a puan kazan. ReferansÄ±n varsa x1.2 Ã§arpan eklenir.</p>
        <div class="ex"><span class="pill">Puan: <b id="tapScore">0</b></span><span class="pill">Ã‡arpan: <b id="tapMul">1.0x</b></span></div>
        <button id="tapBtn" class="btn-ghost" style="margin-top:10px">TAP!</button>
      </div>
      <div class="tbox">
        <h3>Staking (UI)</h3>
        <p class="sub" style="font-size:12px">ZUZUâ€™yu kilitle, Ã¶rnek APY: 30/60/90 gÃ¼nde 12% / 22% / 36% (bilgi ekranÄ±, kontrat sonra).</p>
        <label class="small">SÃ¼re</label>
        <select id="stakeDays"><option value="30">30 gÃ¼n</option><option value="60">60 gÃ¼n</option><option value="90">90 gÃ¼n</option></select>
        <label class="small" style="margin-top:8px">Miktar (ZUZU)</label>
        <input id="stakeAmt" placeholder="50000" />
        <button class="btn-orange" id="stakeBtn" style="margin-top:10px">Stake Et (Demo)</button>
        <div class="sub" id="stakeInfo" style="font-size:12px;margin-top:6px"></div>
      </div>
    </div>
  </div>
</section>

<section class="container section token">
  <div class="phase">
    <h2>HakkÄ±nda</h2>
    <p class="sub" id="tAboutText">
      ZUZU; minimal & ciddi duruÅŸu meme maskot enerjisiyle birleÅŸtirir.
      <b>AI Meme Intelligence</b> katmanÄ± trendleri okur ve gÃ¼cÃ¼ projeye taÅŸÄ±r.
      Presale gelirleri doÄŸrudan hazineye (non-custodial) gider. CEX baÅŸvurularÄ± presale bitiminde baÅŸlar.
    </p>
  </div>
  <div class="phase">
    <h2>Tokenomi</h2>
    <div class="pills">
      <span class="pill">Presale 45%</span>
      <span class="pill">Liquidity 25%</span>
      <span class="pill">Marketing 15%</span>
      <span class="pill">Team 10%</span>
      <span class="pill">Airdrop 5%</span>
      <span class="pill">Chain: BSC (BEP20)</span>
      <span class="pill">Symbol: ZUZU</span>
      <span class="pill">Decimals: 18</span>
    </div>
  </div>
</section>

<section class="container section">
  <div class="phase">
    <h2>Yol HaritasÄ±</h2>
    <ul class="sub">
      <li>Phase 1 â€” Presale + Topluluk</li>
      <li>Phase 2 â€” CEX BaÅŸvurularÄ± (MEXC, Gate.io, BitMart, LBank, BingX, Bybit, KuCoin, OKX)</li>
      <li>Phase 3 â€” Tap-to-Earn oyunu + AI Meme Brain</li>
      <li>Phase 4 â€” Referral 2.0, Staking SÃ¶zleÅŸmesi</li>
    </ul>
  </div>
</section>

<footer class="container footer">Â© 2025 ZUZU â€¢ AI-Powered Meme Intelligence</footer>

<script>
/* ================== CONFIG ================== */
const RECEIVER="0x69014a76Ee25c8B73dAe9044dfcAd7356fe74bC3"; // senin BSC USDT alÄ±cÄ±n
const USDT="0x55d398326f99059fF775485246999027B3197955"; // BSC USDT
const CHAIN=56;                    // BSC mainnet
const HARD_CAP=300000;             // Toplama hedefi (USD)
const BSC_SCAN_KEY="";             // doldurursan toplanan barÄ± gerÃ§ek Ã§alÄ±ÅŸÄ±r

const STAGES=[
  {label:"Stage 1 â€” 0.002000 USDT / ZUZU", price:0.002},
  {label:"Stage 2 â€” 0.003000 USDT / ZUZU", price:0.003},
  {label:"Stage 3 â€” 0.004000 USDT / ZUZU", price:0.004},
  {label:"Stage 4 â€” 0.005000 USDT / ZUZU", price:0.005},
];

/* ================== Ã‡oklu Dil ================== */
const L={
 tr:{tSub:`ZUZU; memetik enerjiyi <b>AI Meme Intelligence</b> ile birleÅŸtirir. Presale fonlarÄ± <b>non-custodial</b> hazineye gider.`,
     tDay:"GÃ¼n",tHour:"Saat",tMin:"Dakika",tSec:"Saniye",tRef:"Senin referans linkin:",
     tGasNote:"Ã–deme USDT (BEP20) ile doÄŸrudan hazinedir. Gas iÃ§in az miktar BNB gerekir.", 
     tTrans:"ÅeffaflÄ±k",tTransText:"SatÄ±n alÄ±mlar on-chain receiver adresine kaydolur. Admin Panel Ã¼zerinden son iÅŸlemleri gÃ¶rebilirsin."},
 en:{tSub:`ZUZU blends memetic energy with <b>AI Meme Intelligence</b>. Funds go to a <b>non-custodial</b> treasury.`,
     tDay:"Day",tHour:"Hour",tMin:"Min",tSec:"Sec",tRef:"Your ref link:",
     tGasNote:"Payment goes directly to treasury (USDT/BEP20). Small BNB for gas required.",
     tTrans:"Transparency",tTransText:"Purchases are recorded on-chain to the receiver. See Admin Panel."},
 pt:{tSub:`ZUZU combina energia meme com <b>AI Meme Intelligence</b>. Fundos vÃ£o para tesouraria <b>nÃ£o-custodial</b>.`,
     tDay:"Dia",tHour:"Hora",tMin:"Min",tSec:"Seg",tRef:"Seu link de referÃªncia:",
     tGasNote:"Pagamento direto Ã  tesouraria (USDT/BEP20). Precisa BNB para gÃ¡s.",
     tTrans:"TransparÃªncia",tTransText:"Compras registradas on-chain ao receiver. Veja no Admin Panel."},
 ru:{tSub:`ZUZU Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ÑĞµÑ‚ Ğ¼ĞµĞ¼-ÑĞ½ĞµÑ€Ğ³Ğ¸Ñ Ñ <b>AI Meme Intelligence</b>. Ğ¡Ñ€ĞµĞ´ÑÑ‚Ğ²Ğ° Ğ¸Ğ´ÑƒÑ‚ Ğ² <b>ĞºĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ¹ÑÑ‚Ğ²Ğ¾</b>.`,
     tDay:"Ğ”ĞµĞ½ÑŒ",tHour:"Ğ§Ğ°Ñ",tMin:"ĞœĞ¸Ğ½",tSec:"Ğ¡ĞµĞº",tRef:"Ğ¢Ğ²Ğ¾Ñ Ñ€ĞµÑ„-ÑÑÑ‹Ğ»ĞºĞ°:",
     tGasNote:"ĞŸĞ»Ğ°Ñ‚Ñ‘Ğ¶ Ğ¸Ğ´Ñ‘Ñ‚ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ Ğ² ĞºĞ°Ğ·Ğ½Ñƒ (USDT/BEP20). ĞÑƒĞ¶ĞµĞ½ Ğ½ĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾ BNB Ğ½Ğ° Ğ³Ğ°Ğ·.",
     tTrans:"ĞŸÑ€Ğ¾Ğ·Ñ€Ğ°Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ",tTransText:"ĞŸĞ¾ĞºÑƒĞ¿ĞºĞ¸ Ğ¿Ğ¸ÑˆÑƒÑ‚ÑÑ on-chain Ğ½Ğ° Ğ°Ğ´Ñ€ĞµÑ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ĞµĞ»Ñ. Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ğ¸ Admin Panel."},
 zh:{tSub:`ZUZU å°† Meme èƒ½é‡ä¸ <b>AI Meme Intelligence</b> ç»“åˆã€‚èµ„é‡‘è¿›å…¥ <b>éæ‰˜ç®¡</b> é‡‘åº“ã€‚`,
     tDay:"å¤©",tHour:"æ—¶",tMin:"åˆ†",tSec:"ç§’",tRef:"ä½ çš„é‚€è¯·é“¾æ¥ï¼š",
     tGasNote:"ä»˜æ¬¾ç›´æ¥è¿›å…¥é‡‘åº“ï¼ˆUSDT/BEP20ï¼‰ï¼Œéœ€å°‘é‡ BNB ä½œä¸º Gasã€‚", 
     tTrans:"é€æ˜åº¦",tTransText:"è´­ä¹°è®°å½•é“¾ä¸Šå¯æŸ¥ã€‚ç®¡ç†å‘˜é¢æ¿å¯æŸ¥çœ‹äº¤æ˜“ã€‚"},
 hi:{tSub:`ZUZU <b>AI Meme Intelligence</b> à¤•à¥‡ à¤¸à¤¾à¤¥ à¤®à¥€à¤® à¤Šà¤°à¥à¤œà¤¾ à¤œà¥‹à¤¡à¤¼à¤¤à¤¾ à¤¹à¥ˆà¥¤ à¤«à¤‚à¤¡ <b>à¤¨à¥‰à¤¨-à¤•à¤¸à¥à¤Ÿà¥‹à¤¡à¤¿à¤¯à¤²</b> à¤Ÿà¥à¤°à¥‡à¤œà¤¼à¤°à¥€ à¤®à¥‡à¤‚ à¤œà¤¾à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤`,
     tDay:"à¤¦à¤¿à¤¨",tHour:"à¤˜à¤‚à¤Ÿà¤¾",tMin:"à¤®à¤¿.",tSec:"à¤¸à¥‡.",tRef:"à¤¤à¥à¤®à¥à¤¹à¤¾à¤°à¤¾ à¤°à¥‡à¤« à¤²à¤¿à¤‚à¤•:",
     tGasNote:"USDT (BEP20) à¤¸à¥€à¤§à¥‡ à¤Ÿà¥à¤°à¥‡à¤œà¤¼à¤°à¥€ à¤®à¥‡à¤‚ à¤œà¤¾à¤à¤—à¤¾à¥¤ à¤—à¥ˆà¤¸ à¤•à¥‡ à¤²à¤¿à¤ à¤¥à¥‹à¤¡à¤¼à¤¾ BNB à¤šà¤¾à¤¹à¤¿à¤à¥¤",
     tTrans:"à¤ªà¤¾à¤°à¤¦à¤°à¥à¤¶à¤¿à¤¤à¤¾",tTransText:"à¤–à¤°à¥€à¤¦ à¤‘à¤¨-à¤šà¥‡à¤¨ à¤°à¤¿à¤¸à¥€à¤µà¤° à¤ªà¤° à¤¦à¤°à¥à¤œ à¤¹à¥‹à¤—à¥€à¥¤ Admin Panel à¤¦à¥‡à¤–à¥‡à¤‚à¥¤"}
};

function setLang(k){
  const t=L[k]||L.tr;
  ["tSub","tGasNote","tTransText"].forEach(id=>{const el=document.getElementById(id); if(el) el.innerHTML=t[id]});
  document.getElementById('tDay').textContent=t.tDay;
  document.getElementById('tHour').textContent=t.tHour;
  document.getElementById('tMin').textContent=t.tMin;
  document.getElementById('tSec').textContent=t.tSec;
  document.getElementById('tRef').textContent=t.tRef;
  document.getElementById('tTrans').textContent=t.tTrans;
}

/* ================== Helpers ================== */
const el={
  stage:document.getElementById('stageSel'),
  amt:document.getElementById('amount'),
  price:document.getElementById('priceInfo'),
  tot:document.getElementById('totalInfo'),
  btnBuy:document.getElementById('btnBuy'),
  btnCon:document.getElementById('btnConnect'),
  prog:document.getElementById('prog'),
  raised:document.getElementById('raised'),
  cap:document.getElementById('cap'),
  rcvShort:document.getElementById('rcvShort'),
  myRef:document.getElementById('myRef'),
  tapScore:document.getElementById('tapScore'),
  tapMul:document.getElementById('tapMul'),
  tapBtn:document.getElementById('tapBtn'),
  stakeDays:document.getElementById('stakeDays'),
  stakeAmt:document.getElementById('stakeAmt'),
  stakeBtn:document.getElementById('stakeBtn'),
  stakeInfo:document.getElementById('stakeInfo')
};

function short(a){return a?a.slice(0,6)+"â€¦"+a.slice(-4):"";}
function usd(x){return "$"+Number(x).toLocaleString(undefined,{maximumFractionDigits:2});}
function initStages(){STAGES.forEach((s,i)=>{const o=document.createElement('option');o.value=i;o.textContent=s.label;el.stage.appendChild(o)}); el.stage.value=0;}
function calc(){const st=STAGES[+el.stage.value], n=Number(el.amt.value||0), total=n*st.price; el.price.textContent=`Fiyat: ${st.price.toFixed(6)} USDT / ZUZU`; el.tot.textContent=`Toplam: ${total.toFixed(6)} USDT`; return {n,total};}

/* ================== Wallet ================== */
let provider,signer,myAddr=null;
async function connect(){
  if(!window.ethereum){alert("MetaMask / TrustWallet gerekli.");return}
  await ethereum.request({method:"eth_requestAccounts"});
  provider=new ethers.providers.Web3Provider(window.ethereum);
  signer=provider.getSigner(); myAddr=await signer.getAddress();
  let net=await provider.getNetwork();
  if(net.chainId!==CHAIN){
    try{await ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x38"}]});}
    catch(e){await ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x38",chainName:"BNB Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed.binance.org/"],blockExplorerUrls:["https://bscscan.com"]}]})}
  }
  el.btnCon.textContent=short(myAddr);
  // ref link gÃ¼ncelle
  const u=new URL(location.href); u.searchParams.set("ref",myAddr); el.myRef.href=u.toString(); el.myRef.textContent=u.toString();
}

async function buy(){
  const {n,total}=calc(); if(!n||total<=0){alert("Miktar gir.");return}
  if(!signer) await connect();
  const usdt=new ethers.Contract(USDT,["function decimals() view returns(uint8)","function transfer(address,uint256) returns(bool)"],signer);
  const dec=await usdt.decimals(); const amt=ethers.utils.parseUnits(total.toFixed(6),dec);
  try{
    const tx=await usdt.transfer(RECEIVER,amt);
    el.btnBuy.disabled=true; el.btnBuy.textContent="GÃ¶nderiliyorâ€¦";
    await tx.wait(); el.btnBuy.textContent="TamamlandÄ± âœ“"; el.btnBuy.classList.add("btn-orange");
    updateRaised();
  }catch(e){console.error(e); alert(e.message||"Ä°ÅŸlem iptal/baÅŸarÄ±sÄ±z."); el.btnBuy.disabled=false; el.btnBuy.textContent="USDT (BEP20) ile SatÄ±n Al";}
}

/* ================== SayaÃ§ ================== */
function countdown(){const end=Date.now()+40*24*3600*1000; setInterval(()=>{let d=Math.max(0,end-Date.now());
 const D=Math.floor(d/86400000); d-=D*86400000; const H=Math.floor(d/3600000); d-=H*3600000; const M=Math.floor(d/60000); d-=M*60000; const S=Math.floor(d/1000);
 document.getElementById('d').textContent=String(D).padStart(2,"0");
 document.getElementById('h').textContent=String(H).padStart(2,"0");
 document.getElementById('m').textContent=String(M).padStart(2,"0");
 document.getElementById('s').textContent=String(S).padStart(2,"0");},1000)}

/* ================== Toplanan (BscScan) ================== */
async function updateRaised(){
  el.cap.textContent=usd(HARD_CAP);
  if(!BSC_SCAN_KEY){el.raised.textContent=usd(0); el.prog.style.width="0%"; return;}
  try{
    const url=`https://api.bscscan.com/api?module=account&action=tokentx&contractaddress=${USDT}&address=${RECEIVER}&page=1&offset=200&sort=desc&apikey=${BSC_SCAN_KEY}`;
    const r=await fetch(url); const j=await r.json(); let sum=0;
    if(j.status==="1"){ j.result.forEach(x=>{ if((x.to||"").toLowerCase()===RECEIVER.toLowerCase()) sum+=Number(x.value)/1e18; }); }
    el.raised.textContent=usd(sum); el.prog.style.width=Math.min(100,(sum/HARD_CAP)*100)+"%";
  }catch(e){console.warn(e)}
}

/* ================== Referral / Tap-to-earn ================== */
function initRef(){
  const u=new URL(location.href); const ref=u.searchParams.get("ref");
  if(ref){localStorage.setItem("zref",ref);}
  const mine=localStorage.getItem("zref")||"share-this-link";
  const link=new URL(location.href); link.searchParams.set("ref",mine);
  el.myRef.href=link.toString(); el.myRef.textContent=link.toString();
}
let tapScore=Number(localStorage.getItem("tapScore")||0);
function tapUpdateUI(){
  let mul=1.0; if(localStorage.getItem("zref")) mul=1.2;
  el.tapMul.textContent=mul.toFixed(1)+"x";
  el.tapScore.textContent=tapScore;
}
el.tapBtn.onclick=()=>{let mul=1.0; if(localStorage.getItem("zref")) mul=1.2; tapScore+=Math.round(1*mul); localStorage.setItem("tapScore",tapScore); tapUpdateUI();}

/* ================== Staking (demo) ================== */
el.stakeBtn.onclick=()=>{
  const days=+el.stakeDays.value; const amt=Number(el.stakeAmt.value||0); if(!amt) return alert("Miktar?");
  const apy = days===30?0.12:days===60?0.22:0.36;
  const reward = amt * apy * (days/365);
  el.stakeInfo.innerHTML = `â‰ˆ Ã–dÃ¼l: <b>${reward.toFixed(2)} ZUZU</b> (APY ${(apy*100).toFixed(0)}%) â€“ (UI, kontrat sonra)`;
}

/* ================== Parallax (maskot) ================== */
(function(){
  const wrap=document.querySelector('.maskwrap'), zuzu=document.getElementById('zuzu');
  window.addEventListener('mousemove',e=>{
    const r=wrap.getBoundingClientRect();
    const x=(e.clientX-r.left)/r.width-.5, y=(e.clientY-r.top)/r.height-.5;
    zuzu.style.transform=`translate(${x*10}px,${y*10}px)`;
  });
})();

/* ================== Events & Boot ================== */
document.getElementById('langSel').onchange=e=>setLang(e.target.value);
document.getElementById('btnConnect').onclick=connect;
document.getElementById('btnBuy').onclick=buy;
document.getElementById('stageSel').onchange=calc;
document.getElementById('amount').oninput=calc;
document.querySelectorAll('.q').forEach(x=>x.onclick=()=>{el.amt.value=x.dataset.amt;calc();});

(function init(){
  initStages(); setLang('tr'); el.amt.value=100000; calc();
  el.rcvShort.textContent=short(RECEIVER);
  countdown(); initRef(); updateRaised(); tapUpdateUI();
})();
</script>
</body>
</html>
