<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ZUZU â€¢ AI Meme Intelligence â€“ Presale</title>
<meta name="theme-color" content="#0a0d11"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
<style>
:root{
  --bg:#0a0d11;--card:#0d121a;--mut:#9db2c7;--txt:#e8f2ff;
  --neon:#00f6a9;--neon2:#16b6ff;--orange:#ff7a00;--ok:#1fe08e;--line:#1a2b41;
}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;background:
 radial-gradient(900px 600px at 10% -10%,#13273c 0%,#0a0d11 50%) ,
 radial-gradient(700px 500px at 120% 10%,#10283e 0%,#0a0d11 45%) , #0a0d11;
 color:var(--txt);font-family:Inter,-apple-system,system-ui,Segoe UI,Roboto,Helvetica,Arial}
a{color:var(--neon2);text-decoration:none}
.container{max-width:1160px;margin:0 auto;padding:20px}
.nav{display:flex;justify-content:space-between;align-items:center}
.badge{background:#0c1422;border:1px solid #17243a;color:#9ec0ea;padding:6px 10px;border-radius:999px;font-size:12px}
select,button,input{font:600 14px Inter;border-radius:12px;border:1px solid #1a2c45;outline:0}
select{background:#0e1624;color:#d9ecff;padding:8px 10px}
.btn{border:none;background:linear-gradient(180deg,#ff8f1f,#ff7a00);color:#111;padding:11px 16px;border-radius:12px;box-shadow:0 8px 30px #ff7a0033;cursor:pointer}
.btn:hover{transform:translateY(-1px)}
.btn-sec{background:linear-gradient(180deg,#19f0a7,#07c980);color:#041210;border:none}
.hero{display:grid;grid-template-columns:1.2fr .8fr;gap:22px;align-items:center}
h1{font-size:44px;margin:10px 0 8px}
.sub{color:#a9bfd9;line-height:1.55}
.ex{display:flex;gap:10px;flex-wrap:wrap}
.chip{background:#0c1422;border:1px solid #17243a;color:#bcd6ff;font-size:12px;padding:6px 10px;border-radius:999px}
.timer{display:flex;gap:10px;margin:14px 0}
.t{background:#0c1422;border:1px solid #17243a;border-radius:14px;padding:10px 12px;min-width:66px;text-align:center}
.t b{display:block;font-size:18px}
.card{background:linear-gradient(180deg,#0d121a,#0a0f16);border:1px solid var(--line);border-radius:18px;padding:16px;box-shadow:inset 0 1px 0 #223453}
.panel{display:flex;flex-direction:column;gap:12px}
.row{display:flex;gap:10px;align-items:center}
input[type="number"],.select{background:#0e1624;border:1px solid #1a2c45;color:#d9ecff;padding:12px;border-radius:12px;width:100%}
.quick{display:flex;gap:8px}
.q{padding:8px 12px;border-radius:10px;background:#0f1a2b;border:1px solid #1a2c45;color:#a8cdf9;cursor:pointer}
.q:hover{background:#13243c}
.grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin-top:16px}
.kutu{background:linear-gradient(180deg,#0d121a,#0a0f16);border:1px solid var(--line);border-radius:16px;padding:14px}
.kutu h3{margin:0 0 8px;font-size:16px}
.progress{height:10px;background:#0c1523;border:1px solid #192a44;border-radius:999px;overflow:hidden}
.progress>i{display:block;height:100%;width:0;background:linear-gradient(90deg,#16b6ff,#00f6a9)}
.token{display:grid;grid-template-columns:1.3fr .7fr;gap:16px;margin-top:18px}
.pill{display:inline-block;background:#0c1422;border:1px solid #17243a;padding:5px 10px;border-radius:999px;margin:4px 6px 0 0;color:#c7e1ff}
.phase{background:linear-gradient(180deg,#0d121a,#0a0f16);border:1px solid var(--line);border-radius:16px;padding:16px}
.footer{margin:26px 0 12px;color:#8aa7cc;text-align:center}
.mw{display:flex;align-items:center;justify-content:center;position:relative}
.glow{position:absolute;inset:-30px;filter:blur(40px);opacity:.45;background:radial-gradient(200px 160px at 50% 55%,#16b6ff66,#00f6a933,#0000)}
.face{width:78%;max-width:360px;aspect-ratio:1;border-radius:50%;background:radial-gradient(140px 120px at 50% 48%,#121a27,#0a0f16);border:2px solid #1b2d46;box-shadow:inset 0 0 60px #0c1727,0 14px 60px rgba(0,0,0,.45)}
.eye{position:absolute;width:18px;height:18px;border-radius:50%;background:#7be7ff;left:50%;transform:translateX(-50%);animation:blink 6s infinite}
.eye.l{margin-left:-42px;top:44%}.eye.r{margin-left:42px;top:44%}
.mouth{position:absolute;left:50%;top:61%;width:160px;height:20px;border-radius:40px;transform:translateX(-50%);background:radial-gradient(60px 40px at 50% 60%,var(--orange),#ff6b00);filter:drop-shadow(0 0 12px #ff7a00aa)}
.h{position:absolute;width:0;height:0;border-left:26px solid transparent;border-right:26px solid transparent;border-bottom:46px solid var(--neon);filter:drop-shadow(0 0 10px #00f6a9aa)}
.h.l{left:32%;top:18%;transform:rotate(-12deg)}.h.r{right:32%;top:18%;transform:rotate(12deg)}
@keyframes blink{0%,92%,100%{height:18px}93%,97%{height:4px}}
.bars{display:flex;gap:8px;flex-wrap:wrap;margin:8px 0}
.bar{height:6px;width:80px;border-radius:999px;background:linear-gradient(90deg,#00f6a9,#16b6ff)}
.ref{font-size:12px;color:#a6c7ef}
@media(max-width:980px){.hero{grid-template-columns:1fr}.face{width:60%}.token{grid-template-columns:1fr}}
</style>
</head>
<body>
<header class="container nav">
  <span class="badge">ZUZU â€¢ AI-Powered Meme Intelligence</span>
  <div style="display:flex;gap:8px;align-items:center">
    <select id="langSel"><option value="tr">TR</option><option value="en">EN</option><option value="pt">PT</option><option value="ru">RU</option><option value="zh">ZH</option><option value="hi">HI</option></select>
    <button id="btnConnect" class="btn">CÃ¼zdan BaÄŸla</button>
  </div>
</header>

<section class="container hero">
  <div>
    <div class="ex">
      <span class="chip">MEXC</span><span class="chip">Gate.io</span><span class="chip">BitMart</span>
      <span class="chip">LBank</span><span class="chip">BingX</span><span class="chip">Bybit</span>
      <span class="chip">KuCoin</span><span class="chip">OKX</span>
    </div>
    <h1 id="tTitle">YAPAY ZEKA MEME AJANI</h1>
    <p class="sub" id="tSub">ZUZU; memetik enerjiyi **AI Meme Intelligence** ile birleÅŸtirir. Presale gelirleri non-custodial hazineye gider.</p>
    <div class="timer">
      <div class="t"><b id="d">40</b><span id="tDay">GÃ¼n</span></div>
      <div class="t"><b id="h">00</b><span id="tHour">Saat</span></div>
      <div class="t"><b id="m">00</b><span id="tMin">Dakika</span></div>
      <div class="t"><b id="s">00</b><span id="tSec">Saniye</span></div>
    </div>
    <div class="ref">ðŸ”— <span id="tRef">Senin referans linkin:</span> <a id="myRef" href="#"></a></div>
    <div class="bars"><span class="bar"></span><span class="bar"></span><span class="bar"></span></div>
  </div>

  <div class="mw" id="par">
    <div class="glow"></div>
    <div class="face" id="face">
      <i class="h l"></i><i class="h r"></i>
      <i class="eye l"></i><i class="eye r"></i>
      <i class="mouth"></i>
    </div>
  </div>
</section>

<section class="container card">
  <div class="panel">
    <h2 id="tPresale">Ã–n SatÄ±ÅŸ AÅŸamasÄ±</h2>
    <div class="row"><select class="select" id="stageSel"></select></div>
    <div class="quick"><div class="q" data-amt="100000">100k</div><div class="q" data-amt="250000">250k</div><div class="q" data-amt="1000000">1M</div></div>
    <div class="row"><input id="amount" class="select" type="number" min="1000" step="1000" placeholder="KaÃ§ ZUZU?"></div>
    <div class="row"><span class="pill" id="priceInfo"></span><span class="pill" id="totalInfo"></span></div>
    <button class="btn" id="btnBuy">USDT (BEP20) ile SatÄ±n Al</button>
    <div class="ref" id="tGasNote">Ã–deme USDT (BEP20) ile doÄŸrudan hazinedir. Gas iÃ§in az miktar BNB gerekir.</div>

    <div class="grid3">
      <div class="kutu">
        <h3>Mini Audit</h3>
        <div class="ref">âœ” SÃ¶zleÅŸme: USDT (BEP20)</div>
        <div class="ref">âœ” Transfer â†’ <span id="rcvShort"></span></div>
        <div class="ref">âœ” Non-custodial, direkt kasaya</div>
      </div>
      <div class="kutu">
        <h3 id="tTrans">ÅžeffaflÄ±k</h3>
        <div class="ref" id="tTransText">SatÄ±n alÄ±mlar on-chain receiver adresine kaydolur. Admin Panel Ã¼zerinden son iÅŸlemleri gÃ¶rebilirsin.</div>
        <a class="pill" href="admin.html" target="_blank">Admin Panel â†’</a>
      </div>
      <div class="kutu">
        <h3>Toplanan</h3>
        <div class="progress"><i id="prog"></i></div>
        <div class="ref"><b id="raised">$0</b> / <b id="cap">$300,000</b></div>
      </div>
    </div>
  </div>
</section>

<section class="container token">
  <div class="phase">
    <h2 id="tAbout">HakkÄ±nda</h2>
    <p class="sub" id="tAboutText">
      ZUZU; minimal & ciddi duruÅŸu meme maskot enerjisiyle birleÅŸtirir. AI Meme Intelligence katmanÄ± trendleri okur ve gÃ¼cÃ¼ projeye taÅŸÄ±r.
      Presale gelirleri doÄŸrudan hazineye (non-custodial) gider. CEX baÅŸvurularÄ± presale bitiminde baÅŸlar.
    </p>
    <h2>Tokenomi</h2>
    <div>
      <span class="pill">Presale: 45%</span><span class="pill">Liquidity: 25%</span>
      <span class="pill">Marketing: 15%</span><span class="pill">Team: 10%</span>
      <span class="pill">Airdrop: 5%</span><span class="pill">Chain: BSC (BEP20)</span>
      <span class="pill">Symbol: ZUZU</span><span class="pill">Decimals: 18</span>
    </div>
  </div>
  <div class="phase">
    <h2 id="tRoadmap">Yol HaritasÄ±</h2>
    <ul class="ref">
      <li>Phase 1 â€” Presale + Topluluk</li>
      <li>Phase 2 â€” CEX BaÅŸvurularÄ± (MEXC, Gate.io, BitMart, LBank, BingX, Bybit, KuCoin, OKX)</li>
      <li>Phase 3 â€” Tap-to-Earn mini oyun + AI Meme Brain</li>
      <li>Phase 4 â€” Referral 2.0 & Staking</li>
    </ul>
  </div>
</section>

<footer class="container footer">Â© 2025 ZUZU â€¢ AI-Powered Meme Intelligence</footer>

<script>
/* ==== CONFIG ==== */
const RECEIVER="0x69014a76Ee25c8B73dAe9044dfcAd7356fe74bC3";
const USDT="0x55d398326f99059fF775485246999027B3197955"; // BSC USDT
const CHAIN=56;
const HARD_CAP=300000;
const STAGES=[
 {label:"Stage 1 â€” 0.002000 USDT / ZUZU",price:0.002},
 {label:"Stage 2 â€” 0.003000 USDT / ZUZU",price:0.003},
 {label:"Stage 3 â€” 0.004000 USDT / ZUZU",price:0.004},
 {label:"Stage 4 â€” 0.005000 USDT / ZUZU",price:0.005}
];
const BSC_SCAN_KEY=""; // doldurursan Toplanan barÄ± gerÃ§ek olur

/* ==== Lang ==== */
const L={
 tr:{tTitle:"YAPAY ZEKA MEME AJANI",tSub:"ZUZU; memetik enerjiyi **AI Meme Intelligence** ile birleÅŸtirir. Presale gelirleri non-custodial hazineye gider.",
     tDay:"GÃ¼n",tHour:"Saat",tMin:"Dakika",tSec:"Saniye",tRef:"Senin referans linkin:",
     tPresale:"Ã–n SatÄ±ÅŸ AÅŸamasÄ±",tGasNote:"Ã–deme USDT (BEP20) ile doÄŸrudan hazinedir. Gas iÃ§in az miktar BNB gerekir.",
     tTrans:"ÅžeffaflÄ±k",tTransText:"SatÄ±n alÄ±mlar on-chain receiver adresine kaydolur. Admin Panel Ã¼zerinden son iÅŸlemleri gÃ¶rebilirsin.",
     tAbout:"HakkÄ±nda",tAboutText:"ZUZU; minimal & ciddi duruÅŸu meme maskot enerjisiyle birleÅŸtirir. AI Meme Intelligence katmanÄ± trendleri okur ve gÃ¼cÃ¼ projeye taÅŸÄ±r. Presale gelirleri doÄŸrudan hazineye (non-custodial) gider. CEX baÅŸvurularÄ± presale bitiminde baÅŸlar.",tRoadmap:"Yol HaritasÄ±"},
 en:{tTitle:"AI-POWERED MEME AGENT",tSub:"ZUZU blends memetic energy with **AI Meme Intelligence**. Presale funds go to a non-custodial treasury.",
     tDay:"Day",tHour:"Hour",tMin:"Min",tSec:"Sec",tRef:"Your ref link:",
     tPresale:"Presale Stage",tGasNote:"Payment goes directly to the treasury in USDT (BEP20). Small BNB for gas required.",
     tTrans:"Transparency",tTransText:"Purchases are recorded on-chain to the receiver. See recent tx in Admin Panel.",
     tAbout:"About",tAboutText:"ZUZU is a community-driven coin. The AI layer reads trends and powers the project. Funds go straight to treasury; CEX filings after presale.",tRoadmap:"Roadmap"},
 pt:{tTitle:"AGENTE MEME COM IA",tSub:"ZUZU combina energia meme com **AI Meme Intelligence**. Fundos vÃ£o para tesouraria nÃ£o-custodial.",
     tDay:"Dia",tHour:"Hora",tMin:"Min",tSec:"Seg",tRef:"Seu link de referÃªncia:",
     tPresale:"Fase de PrÃ©-venda",tGasNote:"Pagamento direto Ã  tesouraria (USDT/BEP20). Precisa um pouco de BNB para gÃ¡s.",
     tTrans:"TransparÃªncia",tTransText:"Compras registradas on-chain ao receiver. Veja no Admin Panel.",
     tAbout:"Sobre",tAboutText:"Moeda orientada Ã  comunidade. A camada de IA lÃª tendÃªncias e fortalece o projeto. Fundos da prÃ©-venda vÃ£o direto Ã  tesouraria.",tRoadmap:"Roteiro"},
 ru:{tTitle:"ÐœÐ˜Ðœ-ÐÐ“Ð•ÐÐ¢ ÐÐ Ð˜Ð˜",tSub:"ZUZU Ð¾Ð±ÑŠÐµÐ´Ð¸Ð½ÑÐµÑ‚ Ð¼ÐµÐ¼-ÑÐ½ÐµÑ€Ð³Ð¸ÑŽ Ñ **AI Meme Intelligence**. Ð¡Ñ€ÐµÐ´ÑÑ‚Ð²Ð° Ð¸Ð´ÑƒÑ‚ Ð² ÐºÐ°Ð·Ð½Ð°Ñ‡ÐµÐ¹ÑÑ‚Ð²Ð¾.",
     tDay:"Ð”ÐµÐ½ÑŒ",tHour:"Ð§Ð°Ñ",tMin:"ÐœÐ¸Ð½",tSec:"Ð¡ÐµÐº",tRef:"Ð¢Ð²Ð¾Ñ Ñ€ÐµÑ„-ÑÑÑ‹Ð»ÐºÐ°:",
     tPresale:"Ð­Ñ‚Ð°Ð¿ ÐŸÑ€ÐµÐ´Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð¸",tGasNote:"ÐŸÐ»Ð°Ñ‚Ñ‘Ð¶ Ð¸Ð´Ñ‘Ñ‚ Ð½Ð°Ð¿Ñ€ÑÐ¼ÑƒÑŽ Ð² ÐºÐ°Ð·Ð½Ñƒ (USDT/BEP20). ÐÑƒÐ¶ÐµÐ½ Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾ BNB Ð½Ð° Ð³Ð°Ð·.",
     tTrans:"ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ",tTransText:"ÐŸÐ¾ÐºÑƒÐ¿ÐºÐ¸ Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‚ÑÑ on-chain Ð½Ð° Ð°Ð´Ñ€ÐµÑ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÐµÐ»Ñ. Ð¡Ð¼Ð¾Ñ‚Ñ€Ð¸ Admin Panel.",
     tAbout:"Ðž Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ",tAboutText:"ÐšÐ¾Ð¼Ð¼ÑŒÑŽÐ½Ð¸Ñ‚Ð¸-ÐºÐ¾Ð¸Ð½. Ð¡Ð»Ð¾Ð¹ Ð˜Ð˜ Ñ‡Ð¸Ñ‚Ð°ÐµÑ‚ Ñ‚Ñ€ÐµÐ½Ð´Ñ‹ Ð¸ ÑƒÑÐ¸Ð»Ð¸Ð²Ð°ÐµÑ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚. Ð¡Ñ€ÐµÐ´ÑÑ‚Ð²Ð° ÑÑ€Ð°Ð·Ñƒ Ð² ÐºÐ°Ð·Ð½Ñƒ. ÐŸÐ¾ÑÐ»Ðµ Ð¿Ñ€ÐµÐ´Ð¿Ñ€Ð¾Ð´Ð°Ð¶Ð¸ â€” CEX.",tRoadmap:"Ð”Ð¾Ñ€Ð¾Ð¶Ð½Ð°Ñ ÐºÐ°Ñ€Ñ‚Ð°"},
 zh:{tTitle:"AI é©±åŠ¨çš„ Meme ä»£ç†",tSub:"ZUZU å°† Meme èƒ½é‡ä¸Ž **AI Meme Intelligence** ç»“åˆã€‚é¢„å”®èµ„é‡‘è¿›å…¥éžæ‰˜ç®¡é‡‘åº“ã€‚",
     tDay:"å¤©",tHour:"æ—¶",tMin:"åˆ†",tSec:"ç§’",tRef:"ä½ çš„é‚€è¯·é“¾æŽ¥ï¼š",
     tPresale:"é¢„å”®é˜¶æ®µ",tGasNote:"ä»˜æ¬¾ç›´æŽ¥è¿›å…¥é‡‘åº“ï¼ˆUSDT/BEP20ï¼‰ï¼Œéœ€å°‘é‡ BNB ä½œä¸º Gasã€‚",
     tTrans:"é€æ˜Žåº¦",tTransText:"è´­ä¹°è®°å½•é“¾ä¸Šå¯æŸ¥ã€‚ç®¡ç†å‘˜é¢æ¿å¯æŸ¥çœ‹äº¤æ˜“ã€‚",
     tAbout:"å…³äºŽ",tAboutText:"ç¤¾åŒºé©±åŠ¨ä»£å¸ï¼ŒAI å±‚è¯»å–è¶‹åŠ¿å¹¶èµ‹èƒ½é¡¹ç›®ã€‚é¢„å”®èµ„é‡‘ç›´æŽ¥è¿›å…¥é‡‘åº“ã€‚",tRoadmap:"è·¯çº¿å›¾"},
 hi:{tTitle:"à¤à¤†à¤ˆ-à¤ªà¤¾à¤µà¤°à¥à¤¡ à¤®à¥€à¤® à¤à¤œà¥‡à¤‚à¤Ÿ",tSub:"ZUZU **AI Meme Intelligence** à¤•à¥‡ à¤¸à¤¾à¤¥ à¤®à¥€à¤® à¤Šà¤°à¥à¤œà¤¾ à¤œà¥‹à¤¡à¤¼à¤¤à¤¾ à¤¹à¥ˆà¥¤ à¤ªà¥à¤°à¥€à¤¸à¥‡à¤² à¤«à¤¼à¤‚à¤¡ à¤Ÿà¥à¤°à¥‡à¤œà¤¼à¤°à¥€ à¤®à¥‡à¤‚ à¤œà¤¾à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤",
     tDay:"à¤¦à¤¿à¤¨",tHour:"à¤˜à¤‚à¤Ÿà¤¾",tMin:"à¤®à¤¿.",tSec:"à¤¸à¥‡.",tRef:"à¤¤à¥à¤®à¥à¤¹à¤¾à¤°à¤¾ à¤°à¥‡à¤« à¤²à¤¿à¤‚à¤•:",
     tPresale:"à¤ªà¥à¤°à¥€à¤¸à¥‡à¤² à¤¸à¥à¤Ÿà¥‡à¤œ",tGasNote:"USDT (BEP20) à¤¸à¥€à¤§à¥‡ à¤Ÿà¥à¤°à¥‡à¤œà¤¼à¤°à¥€ à¤®à¥‡à¤‚ à¤œà¤¾à¤à¤—à¤¾à¥¤ à¤—à¥ˆà¤¸ à¤•à¥‡ à¤²à¤¿à¤ à¤¥à¥‹à¤¡à¤¼à¤¾ BNB à¤šà¤¾à¤¹à¤¿à¤à¥¤",
     tTrans:"à¤ªà¤¾à¤°à¤¦à¤°à¥à¤¶à¤¿à¤¤à¤¾",tTransText:"à¤–à¤°à¥€à¤¦ à¤‘à¤¨-à¤šà¥‡à¤¨ à¤°à¤¿à¤¸à¥€à¤µà¤° à¤ªà¤° à¤¦à¤°à¥à¤œ à¤¹à¥‹à¤—à¥€à¥¤ Admin Panel à¤¦à¥‡à¤–à¥‡à¤‚à¥¤",
     tAbout:"à¤ªà¤°à¤¿à¤šà¤¯",tAboutText:"à¤•à¤®à¥à¤¯à¥à¤¨à¤¿à¤Ÿà¥€-à¤¡à¥à¤°à¤¿à¤µà¤¨ à¤•à¥‰à¤‡à¤¨, AI à¤²à¥‡à¤¯à¤° à¤Ÿà¥à¤°à¥‡à¤‚à¤¡ à¤ªà¤¢à¤¼à¤¤à¥€ à¤¹à¥ˆ à¤”à¤° à¤ªà¥à¤°à¥‹à¤œà¥‡à¤•à¥à¤Ÿ à¤•à¥‹ à¤¬à¤² à¤¦à¥‡à¤¤à¥€ à¤¹à¥ˆà¥¤",tRoadmap:"à¤°à¥‹à¤¡à¤®à¥ˆà¤ª"}
};
function setLang(k){const t=L[k];for(const id in t){const el=document.getElementById(id); if(el) el.innerHTML=t[id];}}

const el={stage:document.getElementById('stageSel'),amt:document.getElementById('amount'),price:document.getElementById('priceInfo'),tot:document.getElementById('totalInfo'),
btnBuy:document.getElementById('btnBuy'),btnCon:document.getElementById('btnConnect'),prog:document.getElementById('prog'),raised:document.getElementById('raised'),
cap:document.getElementById('cap'),rcvShort:document.getElementById('rcvShort'),myRef:document.getElementById('myRef')};

let provider,signer,myAddr=null;
function short(a){return a?a.slice(0,6)+"â€¦"+a.slice(-4):"";}
function usd(x){return "$"+Number(x).toLocaleString(undefined,{maximumFractionDigits:2});}

function initStages(){STAGES.forEach((s,i)=>{const o=document.createElement('option');o.value=i;o.textContent=s.label;el.stage.appendChild(o)}); el.stage.value=0;}
function calc(){const st=STAGES[+el.stage.value], n=Number(el.amt.value||0), total=n*st.price; el.price.textContent=`Fiyat: ${st.price.toFixed(6)} USDT / ZUZU`; el.tot.textContent=`Toplam: ${total.toFixed(6)} USDT`; return {n,total};}

async function connect(){
 if(!window.ethereum){alert("MetaMask/TrustWallet gerekli.");return;}
 await ethereum.request({method:"eth_requestAccounts"}); provider=new ethers.providers.Web3Provider(window.ethereum); signer=provider.getSigner(); myAddr=await signer.getAddress();
 let net=await provider.getNetwork(); if(net.chainId!==CHAIN){ try{await ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x38"}]});}catch(e){
   await ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x38",chainName:"BNB Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed.binance.org/"],blockExplorerUrls:["https://bscscan.com"]}]});}}
 el.btnCon.textContent=short(myAddr);
 // referans linki
 const u=new URL(location.href); u.searchParams.set("ref",myAddr); el.myRef.href=u.toString(); el.myRef.textContent=u.toString();
}

async function buy(){
 const {n,total}=calc(); if(!n||total<=0){alert("Miktar?");return;} if(!signer) await connect();
 const usdt=new ethers.Contract(USDT,["function decimals() view returns(uint8)","function transfer(address,uint256) returns(bool)"],signer);
 const dec=await usdt.decimals(); const amt=ethers.utils.parseUnits(total.toFixed(6),dec);
 try{ const tx=await usdt.transfer(RECEIVER,amt); el.btnBuy.disabled=true; el.btnBuy.textContent="GÃ¶nderiliyorâ€¦"; await tx.wait(); el.btnBuy.textContent="TamamlandÄ± âœ“"; el.btnBuy.classList.add("btn-sec"); updateRaised(); }
 catch(err){console.error(err); alert(err.message||"Ä°ÅŸlem iptal/baÅŸarÄ±sÄ±z."); el.btnBuy.disabled=false; el.btnBuy.textContent="USDT (BEP20) ile SatÄ±n Al";}
}

function countdown(){const end=Date.now()+40*24*3600*1000; setInterval(()=>{let d=Math.max(0,end-Date.now());
 const D=Math.floor(d/86400000); d-=D*86400000; const H=Math.floor(d/3600000); d-=H*3600000; const M=Math.floor(d/60000); d-=M*60000; const S=Math.floor(d/1000);
 d=document.getElementById('d').textContent=String(D).padStart(2,"0"); document.getElementById('h').textContent=String(H).padStart(2,"0"); document.getElementById('m').textContent=String(M).padStart(2,"0"); document.getElementById('s').textContent=String(S).padStart(2,"0");},1000);}

async function updateRaised(){
 el.cap.textContent=usd(HARD_CAP);
 if(!BSC_SCAN_KEY){el.raised.textContent=usd(0); el.prog.style.width="0%"; return;}
 try{const url=`https://api.bscscan.com/api?module=account&action=tokentx&contractaddress=${USDT}&address=${RECEIVER}&page=1&offset=100&sort=desc&apikey=${BSC_SCAN_KEY}`;
  const r=await fetch(url); const j=await r.json(); let sum=0; if(j.status==="1"){ j.result.forEach(x=>{ if((x.to||"").toLowerCase()===RECEIVER.toLowerCase()) sum+=Number(x.value)/1e18; }); }
  el.raised.textContent=usd(sum); el.prog.style.width=Math.min(100,(sum/HARD_CAP)*100)+"%";
 }catch(e){console.warn(e);}
}

function initRef(){const u=new URL(location.href); const ref=u.searchParams.get("ref"); if(ref) localStorage.setItem("zref",ref); const me=localStorage.getItem("zref")||"share-this-link"; const link=new URL(location.href); link.searchParams.set("ref",me); el.myRef.href=link.toString(); el.myRef.textContent=link.toString();}

function parallax(){const P=document.getElementById('par'), F=document.getElementById('face'); window.addEventListener('mousemove',e=>{const r=P.getBoundingClientRect(), x=(e.clientX-r.left)/r.width-.5, y=(e.clientY-r.top)/r.height-.5; F.style.transform=`translate(${x*6}px,${y*6}px)`;});}

/* events */
document.getElementById('langSel').onchange=e=>setLang(e.target.value);
document.getElementById('btnConnect').onclick=connect;
document.getElementById('btnBuy').onclick=buy;
document.getElementById('stageSel').onchange=calc;
document.getElementById('amount').oninput=calc;
document.querySelectorAll('.q').forEach(x=>x.onclick=()=>{el.amt.value=x.dataset.amt;calc();});

/* boot */
initStages(); setLang('tr'); el.amt.value=100000; calc(); el.rcvShort.textContent=short(RECEIVER);
countdown(); initRef(); updateRaised(); parallax();
</script>
</body>
</html>
